:root{font-family:KaiTi,STKaiti,楷体,Microsoft YaHei,PingFang SC,serif;line-height:1.8;font-weight:400;color-scheme:light;color:#3d2817;background-color:#f5f1e8;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box}body{margin:0;min-width:320px;min-height:100vh;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.03) 2px,rgba(0,0,0,.03) 4px),linear-gradient(90deg,#f5f1e8,#f0ebe0,#f5f1e8);background-size:100% 4px,100% 100%;position:relative}body:before{content:"";position:fixed;inset:0;background:radial-gradient(circle at 20% 50%,rgba(139,69,19,.05) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(101,67,33,.05) 0%,transparent 50%);pointer-events:none;z-index:0}h1,h2,h3,h4,h5,h6{margin:0;font-weight:600;color:#5c3a21;font-family:KaiTi,STKaiti,楷体,serif}a{font-weight:500;color:#8b4513;text-decoration:inherit}a:hover{color:sienna}button{border-radius:4px;border:1px solid #8b7355;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#f5f1e8;color:#5c3a21;cursor:pointer;transition:all .3s ease}button:hover{background-color:#e8ddd4;border-color:#6b5a42}button:focus,button:focus-visible{outline:2px solid #8b7355;outline-offset:2px}.layout{min-height:100vh;display:flex;flex-direction:column;position:relative;z-index:1}.header{background:linear-gradient(to bottom,#f5f1e8fa,#f0ebe0f2);padding:1rem 0;position:sticky;top:0;z-index:100;border-bottom:2px solid rgba(139,115,85,.3)}.header-content{max-width:1400px;margin:0 auto;padding:0 2rem;display:flex;justify-content:center;align-items:center}.site-title{margin:0;font-size:2rem;color:#5c3a21;font-weight:600;font-family:KaiTi,STKaiti,楷体,serif;letter-spacing:2px;cursor:pointer;transition:color .3s ease}.site-title:hover{color:#8b4513}.main-content{flex:1;max-width:1400px;width:100%;margin:0 auto;padding:2rem;position:relative;z-index:1}.footer{background:linear-gradient(to top,#5c3a21cc,#3c2817e6);color:#f5f1e8;text-align:center;padding:1.5rem;margin-top:auto;border-top:2px solid rgba(139,115,85,.5);font-family:KaiTi,STKaiti,楷体,serif}@media(max-width:768px){.header-content{justify-content:center}.site-title{font-size:1.5rem}.main-content{padding:1rem}}.canal-map-page{background:#f5f1e8b3;border-radius:12px;padding:2rem;border:1px solid rgba(139,115,85,.3);position:relative}.canal-map-page:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(139,115,85,.02) 10px,rgba(139,115,85,.02) 20px);border-radius:12px;pointer-events:none}.page-title{text-align:center;color:#5c3a21;font-size:2.8rem;margin-bottom:1.5rem;font-family:KaiTi,STKaiti,楷体,serif;letter-spacing:4px;position:relative;z-index:1;padding-bottom:1rem}.page-title:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:200px;height:2px;background:linear-gradient(to right,transparent,#8b7355,transparent)}.page-title:before{content:"";position:absolute;bottom:-4px;left:50%;transform:translate(-50%);width:120px;height:1px;background:linear-gradient(to right,transparent,rgba(139,115,85,.3),transparent)}.page-description{text-align:center;color:#6b5a42;margin-bottom:2rem;font-size:1.2rem;font-family:KaiTi,STKaiti,楷体,serif;position:relative;z-index:1}.map-container{background:repeating-linear-gradient(45deg,transparent,transparent 8px,rgba(0,0,0,.008) 8px,rgba(0,0,0,.008) 16px),repeating-linear-gradient(135deg,transparent,transparent 12px,rgba(0,0,0,.005) 12px,rgba(0,0,0,.005) 24px),repeating-linear-gradient(0deg,transparent,transparent 5px,rgba(0,0,0,.01) 5px,rgba(0,0,0,.01) 10px),radial-gradient(circle at 20% 30%,rgba(139,115,85,.015) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(139,115,85,.01) 0%,transparent 50%),radial-gradient(circle at 50% 50%,rgba(139,115,85,.008) 0%,transparent 40%),linear-gradient(90deg,#f5f1e8,#f0ebe0,#f5f1e8);background-size:400% 400%,300% 300%,100% 10px,500px 500px,450px 450px,400px 400px,100% 100%;background-position:0% 0%,0% 0%,0% 0%,0% 0%,100% 100%,50% 50%,0% 0%;border-radius:12px;padding:2rem;margin:2rem 0;min-height:500px;display:flex;align-items:center;justify-content:center;border:2px solid rgba(139,115,85,.4);position:relative;z-index:1}.canal-map-svg{width:100%;max-width:800px;height:auto;background:repeating-linear-gradient(45deg,transparent,transparent 8px,rgba(0,0,0,.006) 8px,rgba(0,0,0,.006) 16px),repeating-linear-gradient(135deg,transparent,transparent 12px,rgba(0,0,0,.004) 12px,rgba(0,0,0,.004) 24px),repeating-linear-gradient(0deg,transparent,transparent 5px,rgba(0,0,0,.008) 5px,rgba(0,0,0,.008) 10px),radial-gradient(circle at 25% 35%,rgba(139,115,85,.012) 0%,transparent 45%),radial-gradient(circle at 75% 65%,rgba(139,115,85,.008) 0%,transparent 45%),radial-gradient(circle at 45% 55%,rgba(139,115,85,.006) 0%,transparent 35%),linear-gradient(90deg,#f5f1e8,#f0ebe0,#f5f1e8);background-size:400% 400%,300% 300%,100% 10px,480px 480px,430px 430px,380px 380px,100% 100%;background-position:0% 0%,0% 0%,0% 0%,0% 0%,100% 100%,50% 50%,0% 0%;border-radius:8px;border:1px solid rgba(139,115,85,.3)}.canal-path{animation:flow 3s ease-in-out 1;stroke:#8b4513}@keyframes flow{0%{stroke-dasharray:0,200}to{stroke-dasharray:100,200}}.yangtze-path{animation:flow 3s ease-in-out 1;stroke:#4a90e2}.city-marker{transition:all .3s ease;fill:#8b4513;filter:drop-shadow(0 2px 4px rgba(139,69,19,.4))}.city-marker:hover{r:2.5;fill:sienna;filter:drop-shadow(0 3px 6px rgba(139,69,19,.6))}.city-label{pointer-events:none;-webkit-user-select:none;user-select:none;font-family:KaiTi,STKaiti,楷体,serif;fill:#5c3a21;font-weight:700}@media(max-width:768px){.map-container{min-height:400px;padding:1rem}.page-title{font-size:2rem}}.city-selector-page{background:#f5f1e8b3;border-radius:12px;padding:2rem;border:1px solid rgba(139,115,85,.3);position:relative}.city-selector-page:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(139,115,85,.02) 10px,rgba(139,115,85,.02) 20px);border-radius:12px;pointer-events:none}.page-title{text-align:center;color:#5c3a21;font-size:2.5rem;margin-bottom:.5rem;font-family:KaiTi,STKaiti,楷体,serif;letter-spacing:2px;position:relative;padding-bottom:1rem}.page-description{text-align:center;color:#6b5a42;margin-bottom:2rem;font-size:1.2rem;font-family:KaiTi,STKaiti,楷体,serif}.cities-selection-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-top:2rem}.city-selection-card{background:#8b7355;color:#fff;padding:2rem;border-radius:12px;text-align:center;cursor:pointer;transition:background .3s ease;border:1px solid rgba(139,115,85,.5);font-family:KaiTi,STKaiti,楷体,serif}.city-selection-card:hover{background:#9b8365}.city-selection-icon{font-size:3rem;margin-bottom:1rem}.city-selection-card h3{margin:.5rem 0;font-size:1.8rem;font-weight:600;color:#fff}.city-selection-card p{margin:.5rem 0 0;color:#ffffffb3;font-size:.95rem}@media(max-width:768px){.cities-selection-grid{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}}.navigation-archive-screen{position:relative;width:100%;height:100%;min-height:calc(100vh - 4rem);overflow:hidden;background:linear-gradient(135deg,#f5f1e8f2,#f0ebe0fa);border-radius:12px}.navigation-archive-screen.with-bg{background:transparent;display:flex;align-items:center;justify-content:center}.nav-archive-bg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;object-position:center;-webkit-user-select:none;user-select:none;pointer-events:none;filter:saturate(.95) contrast(1.02);display:block}.archive-sheet{position:absolute;left:0;right:0;bottom:0;z-index:10;transform:translateY(calc(100% - 72px));transition:transform .35s cubic-bezier(.22,1,.36,1);background:#f5f1e8eb;border-top:1px solid rgba(139,115,85,.35);box-shadow:0 -16px 40px #00000040;border-top-left-radius:16px;border-top-right-radius:16px;padding-bottom:env(safe-area-inset-bottom);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.navigation-archive-screen.with-bg .archive-sheet.city-sheet{transition:transform .35s cubic-bezier(.22,1,.36,1),width .3s ease;right:auto}.archive-sheet.open{transform:translateY(0)}.sheet-handle{width:100%;background:transparent;border:none;padding:10px 12px 8px;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:6px}.sheet-grabber{width:46px;height:6px;border-radius:999px;background:#8b73558c}.sheet-hint{font-size:.95rem;color:#6b5a42;font-family:KaiTi,STKaiti,楷体,serif;letter-spacing:1px}.sheet-content{max-height:calc(100vh - 140px);overflow-y:auto;-webkit-overflow-scrolling:touch;padding:0 1.25rem 1.25rem}.archive-content{display:grid;gap:3rem}.entries-section h2,.research-section h2{color:#5c3a21;font-size:1.8rem;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:2px solid #8b7355;font-family:KaiTi,STKaiti,楷体,serif}.category-filter{display:flex;gap:.8rem;margin-bottom:2rem;flex-wrap:wrap;justify-content:center}.filter-btn{padding:.6rem 1.2rem;background:#f5f1e8cc;border:2px solid rgba(139,115,85,.3);border-radius:20px;color:#6b5a42;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;font-family:KaiTi,STKaiti,楷体,serif}.filter-btn:hover{background:#8b73551a;border-color:#8b735580}.filter-btn.active{background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;border-color:#5c3a21}.entries-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}.entry-card{background:#f5f1e8e6;border-radius:0;padding:1rem 1.2rem;cursor:pointer;transition:all .3s ease;position:relative;border:4px solid rgba(139,115,85,.6);display:flex;flex-direction:column;align-items:center;justify-content:center;width:fit-content;min-width:fit-content}.entry-card{overflow:visible}.corner-decoration{position:absolute;width:16px;height:16px;pointer-events:none;z-index:1;border:3px solid rgba(139,115,85,.8)}.corner-tl{top:-4px;left:-4px;border-right:none;border-bottom:none;clip-path:polygon(0 0,100% 0,100% 40%,40% 40%,40% 100%,0 100%)}.corner-tr{top:-4px;right:-4px;border-left:none;border-bottom:none;clip-path:polygon(60% 0,100% 0,100% 100%,0 100%,0 40%,60% 40%)}.corner-bl{bottom:-4px;left:-4px;border-right:none;border-top:none;clip-path:polygon(0 0,60% 0,60% 60%,100% 60%,100% 100%,0 100%)}.corner-br{bottom:-4px;right:-4px;border-left:none;border-top:none;clip-path:polygon(40% 0,100% 0,100% 100%,0 100%,0 60%,40% 60%)}.entry-card:hover{border-color:#8b735580;transform:translateY(-4px);box-shadow:0 4px 12px #00000026}.entry-card:hover{border-color:#8b735580}.entry-image{font-size:3rem;text-align:center;margin-bottom:1rem}.entry-badge{display:inline-block;background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;padding:.3rem .8rem;border-radius:20px;font-size:1rem;margin-bottom:.8rem;font-family:KaiTi,STKaiti,楷体,serif}.entry-card h3{color:#5c3a21;margin:0;font-size:1.6rem;font-weight:700;font-family:KaiTi,STKaiti,楷体,serif;text-align:center}.entry-card p{color:#6b5a42;line-height:1.8;margin-bottom:1rem;font-size:1.05rem;flex-grow:1}.audio-placeholder{background:#8b73551a;padding:.8rem;border-radius:8px;text-align:center;color:#8b4513;font-size:1rem;border:1px solid rgba(139,115,85,.2);margin-top:auto}.research-section{margin-top:2rem}.research-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.research-header h2{margin-bottom:0}.research-toggle-btn{display:flex;align-items:center;gap:.5rem;padding:.6rem 1.2rem;background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;border:1px solid rgba(139,115,85,.5);border-radius:6px;font-size:1.1rem;font-weight:500;cursor:pointer;transition:all .3s ease;font-family:KaiTi,STKaiti,楷体,serif}.research-toggle-btn:hover{background:linear-gradient(135deg,#9b8365,#7b6a52)}.toggle-icon{font-size:1rem;transition:transform .3s ease;display:inline-block;line-height:1}.toggle-icon.expanded{transform:rotate(0)}.research-card-wrapper{max-height:0;overflow:hidden;opacity:0;transition:max-height .4s ease-out,opacity .4s ease-out,margin-top .4s ease-out;margin-top:0}.research-card-wrapper.expanded{max-height:1000px;opacity:1;margin-top:1rem}.research-card{background:#8b735526;color:#5c3a21;padding:2rem;border-radius:12px;border:1px solid rgba(139,115,85,.3)}.research-card h3{margin-top:0;font-size:1.7rem;margin-bottom:1rem;font-family:KaiTi,STKaiti,楷体,serif}.research-card p{line-height:1.8;font-size:1.15rem;opacity:.95}.entry-modal{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.modal-image{font-size:5rem;text-align:center;margin:1rem 0}.modal-badge{display:inline-block;background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;padding:.4rem 1rem;border-radius:20px;font-size:1rem;margin-bottom:1rem;font-family:KaiTi,STKaiti,楷体,serif}.modal-content h2{color:#5c3a21;margin:1rem 0;font-size:2rem;font-family:KaiTi,STKaiti,楷体,serif}.modal-content p{color:#6b5a42;line-height:1.8;font-size:1.2rem;margin-bottom:1.5rem}.modal-audio{margin-top:2rem}.audio-player-placeholder{background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;padding:1.5rem;border-radius:12px;text-align:center;border:1px solid rgba(139,115,85,.5)}.audio-wave{display:flex;justify-content:center;gap:4px;margin-top:1rem}.audio-wave span{width:4px;height:20px;background:#f5f1e8;border-radius:2px;animation:wave 1.2s ease-in-out infinite}.audio-wave span:nth-child(2){animation-delay:.1s}.audio-wave span:nth-child(3){animation-delay:.2s}.audio-wave span:nth-child(4){animation-delay:.3s}.audio-wave span:nth-child(5){animation-delay:.4s}@keyframes wave{0%,to{transform:scaleY(.5)}50%{transform:scaleY(1)}}.entry-card-modal{position:fixed;inset:0;background:#000000a6;display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.entry-card-content{background:linear-gradient(135deg,#f5f1e8,#e8ddd4);border-radius:16px;padding:2.5rem;max-width:680px;width:100%;max-height:85vh;overflow-y:auto;position:relative;border:2px solid rgba(139,115,85,.4);box-shadow:0 20px 60px #0000004d;animation:liftUp .5s cubic-bezier(.34,1.56,.64,1)}@keyframes liftUp{0%{opacity:0;transform:translateY(40px) scale(.9) rotateX(10deg)}to{opacity:1;transform:translateY(0) scale(1) rotateX(0)}}.entry-card-content .close-btn{position:absolute;top:1.2rem;right:1.2rem;background:none;border:none;font-size:2rem;color:#6b5a42;cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;border-radius:50%}.entry-card-content .close-btn:hover{color:#5c3a21;background:#8b73551a}.card-category-badge{display:inline-block;background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;padding:.4rem 1rem;border-radius:20px;font-size:.95rem;margin-bottom:1.2rem;font-family:KaiTi,STKaiti,楷体,serif}.card-keyword{color:#5c3a21;margin:0 0 1rem;font-size:2rem;font-weight:700;font-family:KaiTi,STKaiti,楷体,serif;line-height:1.3}.card-summary{color:#6b5a42;font-size:1.15rem;line-height:1.7;margin-bottom:1.8rem;padding-bottom:1.5rem;border-bottom:2px solid rgba(139,115,85,.2)}.card-detail{color:#5c3a21;line-height:1.9;font-size:1.1rem}.card-detail p{margin:.8rem 0;color:#6b5a42}.card-detail p:first-child{margin-top:0}.card-detail p:last-child{margin-bottom:0}@media(max-width:768px){.navigation-archive-screen{min-height:calc(100vh - 2rem);border-radius:10px}.archive-sheet{transform:translateY(calc(100% - 64px));border-top-left-radius:14px;border-top-right-radius:14px}.sheet-content{max-height:calc(100vh - 120px);padding:0 1rem 1rem}.entries-grid{grid-template-columns:1fr}.modal-content{padding:1.5rem;margin:1rem}.back-link{flex-direction:column;gap:1rem}}.passenger-scroll-page{background:#f5f1e8b3;border-radius:12px;padding:2rem;border:1px solid rgba(139,115,85,.3);position:relative}.passenger-scroll-page:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(139,115,85,.02) 10px,rgba(139,115,85,.02) 20px);border-radius:12px;pointer-events:none}.page-title{text-align:center;color:#5c3a21;font-size:2.5rem;margin-bottom:2rem;font-family:KaiTi,STKaiti,楷体,serif;letter-spacing:2px;position:relative;padding-bottom:1rem}.page-title:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:180px;height:2px;background:linear-gradient(to right,transparent,#8b7355,transparent)}.page-title:before{content:"";position:absolute;bottom:-4px;left:50%;transform:translate(-50%);width:100px;height:1px;background:linear-gradient(to right,transparent,rgba(139,115,85,.3),transparent)}.view-toggle{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}.view-toggle button{padding:.8rem 2rem;border:2px solid #8b7355;background:#f5f1e8cc;color:#6b5a42;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;font-family:KaiTi,STKaiti,楷体,serif}.view-toggle button:hover{background:#f5f1e8;border-color:#6b5a42}.view-toggle button.active{background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;border-color:#5c3a21}.scroll-container{background:linear-gradient(135deg,#f0ebe0,#e8ddd4);border-radius:12px;padding:2rem;min-height:500px;position:relative;overflow-x:auto;overflow-y:hidden;border:2px solid rgba(139,115,85,.4)}.scroll-container:before,.scroll-container:after{content:"";position:absolute;top:0;bottom:0;width:50px;z-index:1;pointer-events:none}.scroll-container:before{left:0;background:linear-gradient(to right,#f0ebe0,transparent)}.scroll-container:after{right:0;background:linear-gradient(to left,#f0ebe0,transparent)}.scroll-content{display:flex;gap:2rem;padding:1rem 0;animation:scroll-reveal .6s ease-out}@keyframes scroll-reveal{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}.character-card{background:#f5f1e8e6;border-radius:12px;padding:2rem;min-width:280px;max-width:320px;border:1px solid rgba(139,115,85,.3);cursor:pointer;transition:border-color .3s ease;animation:card-appear .6s ease-out both}@keyframes card-appear{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.character-card:hover{border-color:#8b735580}.character-image{font-size:5rem;text-align:center;margin-bottom:1rem}.nanjing-card .character-image{font-size:0}.image-flip{position:relative;width:220px;height:320px;margin:0 auto 1rem;perspective:1000px;cursor:pointer}.image-face{position:absolute;inset:0;border-radius:12px;background-size:cover;background-position:center;background-repeat:no-repeat;backface-visibility:hidden;transition:transform .6s ease,box-shadow .6s ease;box-shadow:0 10px 25px #0000002e}.image-front{transform:rotateY(0)}.image-back{transform:rotateY(180deg)}.image-flip.flipped .image-front{transform:rotateY(-180deg)}.image-flip.flipped .image-back{transform:rotateY(0)}.image-flip:hover .image-face{box-shadow:0 14px 32px #0000003d}.character-info{text-align:center}.character-info h3{color:#5c3a21;font-size:1.7rem;margin:.5rem 0;font-family:KaiTi,STKaiti,楷体,serif}.character-role{display:inline-block;background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;padding:.3rem 1rem;border-radius:20px;font-size:1rem;margin-bottom:1rem;font-family:KaiTi,STKaiti,楷体,serif}.character-info p{color:#6b5a42;line-height:1.8;margin-top:1rem;font-size:1.05rem}.character-card .character-info p{display:none}.network-container{background:linear-gradient(135deg,#f0ebe0,#e8ddd4);border-radius:12px;padding:2rem;min-height:600px;position:relative;border:2px solid rgba(139,115,85,.4)}.network-graph{position:relative;width:100%;height:600px}.network-node{position:absolute;transform:translate(-50%,-50%);background:#f5f1e8f2;border-radius:50%;width:118px;height:118px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:border-color .3s ease;z-index:10;border:3px solid #8b7355}.network-node:hover{border-color:#6b5a42;z-index:20}.node-image{font-size:3rem;margin-bottom:.5rem}.node-photo{width:72px;height:72px;border-radius:50%;background-size:cover;background-position:center;background-repeat:no-repeat;box-shadow:0 6px 16px #0003}.node-name{font-size:1rem;color:#5c3a21;font-weight:500;text-align:center;font-family:KaiTi,STKaiti,楷体,serif;max-width:120px;line-height:1.25;white-space:normal;word-break:break-word}.relationship-lines{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.relationship-lines--nanjing{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:auto;z-index:2}.relationship-label{font-size:14px;font-weight:600;font-family:KaiTi,STKaiti,楷体,serif;paint-order:stroke;stroke:#f5f1e8f2;stroke-width:6px;cursor:help;-webkit-user-select:none;user-select:none;pointer-events:auto}.network-node.extra-node{width:auto;height:auto;border-radius:999px;padding:.45rem .8rem;border:2px solid rgba(139,115,85,.55);background:#f5f1e8eb;cursor:default}.extra-node-name{font-size:1.05rem;color:#5c3a21;font-weight:600;font-family:KaiTi,STKaiti,楷体,serif;white-space:nowrap;text-shadow:0 1px 0 rgba(245,241,232,.9)}.relationship-tooltip{position:fixed;z-index:3000;max-width:320px;padding:.75rem .9rem;border-radius:10px;border:1px solid rgba(139,115,85,.35);background:#f5f1e8f5;box-shadow:0 14px 30px #00000040;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);pointer-events:none}.relationship-tooltip-summary{color:#5c3a21;font-weight:700;margin-bottom:.35rem;font-family:KaiTi,STKaiti,楷体,serif}.relationship-tooltip-detail{color:#6b5a42;line-height:1.55;font-size:.98rem}.character-modal{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.modal-content{background:#f5f1e8;border-radius:12px;padding:2.5rem;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;position:relative;border:2px solid rgba(139,115,85,.5)}.close-btn{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:2rem;color:#6b5a42;cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.close-btn:hover{color:#5c3a21}.modal-character-image{font-size:6rem;text-align:center;margin:1rem 0}.modal-photo{width:260px;height:380px;margin:0 auto}.modal-content h2{text-align:center;color:#5c3a21;margin:1rem 0;font-size:2rem;font-family:KaiTi,STKaiti,楷体,serif}.modal-character-role{text-align:center;display:inline-block;background:linear-gradient(135deg,#8b7355,#6b5a42);color:#f5f1e8;padding:.4rem 1.2rem;border-radius:20px;font-size:1rem;margin:.5rem auto;display:block;width:fit-content;font-family:KaiTi,STKaiti,楷体,serif}.modal-content p{color:#6b5a42;line-height:1.8;font-size:1.1rem;margin:1.5rem 0;text-align:center}.modal-relationships{margin-top:2rem;padding-top:2rem;border-top:2px solid rgba(139,115,85,.3)}.modal-relationships h3{color:#5c3a21;margin-bottom:1rem;text-align:center;font-family:KaiTi,STKaiti,楷体,serif}.related-characters{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.related-character{background:#f0ebe0cc;border-radius:12px;padding:1rem;text-align:center;min-width:100px;transition:all .3s ease;border:1px solid rgba(139,115,85,.2)}.related-character:hover{background:#f0ebe0;transform:translateY(-3px);border-color:#8b735566}.related-image{font-size:2.5rem;margin-bottom:.5rem}.related-name{font-size:.9rem;color:#5c3a21;font-weight:500;font-family:KaiTi,STKaiti,楷体,serif}.back-link{margin-top:2rem;text-align:center;display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.back-link a{color:#8b4513;text-decoration:none;font-size:1.1rem;font-weight:500;transition:all .3s ease;padding:.5rem 1rem;border:1px solid rgba(139,115,85,.3);border-radius:6px;background:#f5f1e880;font-family:KaiTi,STKaiti,楷体,serif}.back-link a:hover{color:sienna;background:#f5f1e8cc;border-color:#8b735580}@media(max-width:768px){.scroll-content{flex-direction:column;align-items:center}.character-card{width:100%;max-width:100%}.network-graph{height:500px}.network-node{width:100px;height:100px}.node-image{font-size:2.5rem}.modal-content{padding:1.5rem;margin:1rem}.back-link{flex-direction:column;gap:1rem}}#root{width:100%;min-height:100vh}
